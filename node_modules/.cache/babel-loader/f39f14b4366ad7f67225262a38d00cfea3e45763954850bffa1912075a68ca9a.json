{"ast":null,"code":"import _objectWithoutProperties from \"C:/Users/waleed/Desktop/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nconst _excluded = [\"children\", \"curves\", \"debug\", \"debugColor\", \"object\", \"focus\", \"loop\", \"offset\", \"smooth\", \"eps\", \"damping\", \"focusDamping\", \"maxSpeed\"];\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport * as THREE from 'three';\nimport * as React from 'react';\nimport { useThree, useInstanceHandle, useFrame } from '@react-three/fiber';\nimport { misc, easing } from 'maath';\nconst isObject3DRef = ref => (ref == null ? void 0 : ref.current) instanceof THREE.Object3D;\nconst MotionContext = /* @__PURE__ */React.createContext(null);\nfunction useMotion() {\n  const context = React.useContext(MotionContext);\n  if (!context) throw new Error('useMotion hook must be used in a MotionPathControls component.');\n  return context;\n}\nfunction Debug(_ref) {\n  let {\n    points = 50,\n    color = 'black'\n  } = _ref;\n  const {\n    path\n  } = useMotion();\n  const [dots, setDots] = React.useState([]);\n  const material = React.useMemo(() => new THREE.MeshBasicMaterial({\n    color: color\n  }), [color]);\n  const geometry = React.useMemo(() => new THREE.SphereGeometry(0.025, 16, 16), []);\n  const last = React.useRef([]);\n  React.useEffect(() => {\n    if (path.curves !== last.current) {\n      setDots(path.getPoints(points));\n      last.current = path.curves;\n    }\n  });\n  return dots.map((item, index) => /*#__PURE__*/React.createElement(\"mesh\", {\n    key: index,\n    material: material,\n    geometry: geometry,\n    position: [item.x, item.y, item.z]\n  }));\n}\nconst MotionPathControls = /* @__PURE__ */React.forwardRef((_ref2, fref) => {\n  let {\n      children,\n      curves = [],\n      debug = false,\n      debugColor = 'black',\n      object,\n      focus,\n      loop = true,\n      offset = undefined,\n      smooth = false,\n      eps = 0.00001,\n      damping = 0.1,\n      focusDamping = 0.1,\n      maxSpeed = Infinity\n    } = _ref2,\n    props = _objectWithoutProperties(_ref2, _excluded);\n  const {\n    camera\n  } = useThree();\n  const ref = React.useRef(null);\n  const pos = React.useRef(offset !== null && offset !== void 0 ? offset : 0);\n  const path = React.useMemo(() => new THREE.CurvePath(), []);\n  const state = React.useMemo(() => ({\n    focus,\n    object: (object == null ? void 0 : object.current) instanceof THREE.Object3D ? object : {\n      current: camera\n    },\n    path,\n    current: pos.current,\n    offset: pos.current,\n    point: new THREE.Vector3(),\n    tangent: new THREE.Vector3(),\n    next: new THREE.Vector3()\n  }), [focus, object]);\n  const instanceRef = useInstanceHandle(ref);\n  React.useLayoutEffect(() => {\n    const instance = instanceRef.current;\n    path.curves = [];\n    const _curves = curves.length > 0 ? curves : instance.children.map(instance => instance.object);\n    for (let i = 0; i < _curves.length; i++) path.add(_curves[i]);\n\n    // Smoothen curve\n    if (smooth) {\n      const points = path.getPoints(typeof smooth === 'number' ? smooth : 1);\n      const catmull = new THREE.CatmullRomCurve3(points);\n      path.curves = [catmull];\n    }\n    path.updateArcLengths();\n  });\n  React.useImperativeHandle(fref, () => Object.assign(ref.current, {\n    motion: state\n  }), [state]);\n  React.useLayoutEffect(() => {\n    // When offset changes, normalise pos to avoid overshoot spinning\n    pos.current = misc.repeat(pos.current, 1);\n  }, [offset]);\n  const vec = React.useMemo(() => new THREE.Vector3(), []);\n  useFrame((_state, delta) => {\n    const lastOffset = state.offset;\n    easing.damp(pos, 'current', offset !== undefined ? offset : state.current, damping, delta, maxSpeed, undefined, eps);\n    state.offset = loop ? misc.repeat(pos.current, 1) : misc.clamp(pos.current, 0, 1);\n    if (path.getCurveLengths().length > 0) {\n      path.getPointAt(state.offset, state.point);\n      path.getTangentAt(state.offset, state.tangent).normalize();\n      path.getPointAt(misc.repeat(pos.current - (lastOffset - state.offset), 1), state.next);\n      const target = (object == null ? void 0 : object.current) instanceof THREE.Object3D ? object.current : camera;\n      target.position.copy(state.point);\n      if (focus) {\n        easing.dampLookAt(target, isObject3DRef(focus) ? focus.current.getWorldPosition(vec) : focus, focusDamping, delta, maxSpeed, undefined, eps);\n      }\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: ref\n  }, props), /*#__PURE__*/React.createElement(MotionContext.Provider, {\n    value: state\n  }, children, debug && /*#__PURE__*/React.createElement(Debug, {\n    color: debugColor\n  })));\n});\nexport { MotionPathControls, useMotion };","map":{"version":3,"names":["_extends","THREE","React","useThree","useInstanceHandle","useFrame","misc","easing","isObject3DRef","ref","current","Object3D","MotionContext","createContext","useMotion","context","useContext","Error","Debug","_ref","points","color","path","dots","setDots","useState","material","useMemo","MeshBasicMaterial","geometry","SphereGeometry","last","useRef","useEffect","curves","getPoints","map","item","index","createElement","key","position","x","y","z","MotionPathControls","forwardRef","_ref2","fref","children","debug","debugColor","object","focus","loop","offset","undefined","smooth","eps","damping","focusDamping","maxSpeed","Infinity","props","_objectWithoutProperties","_excluded","camera","pos","CurvePath","state","point","Vector3","tangent","next","instanceRef","useLayoutEffect","instance","_curves","length","i","add","catmull","CatmullRomCurve3","updateArcLengths","useImperativeHandle","Object","assign","motion","repeat","vec","_state","delta","lastOffset","damp","clamp","getCurveLengths","getPointAt","getTangentAt","normalize","target","copy","dampLookAt","getWorldPosition","Provider","value"],"sources":["C:/Users/waleed/Desktop/node_modules/@react-three/drei/core/MotionPathControls.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as THREE from 'three';\nimport * as React from 'react';\nimport { useThree, useInstanceHandle, useFrame } from '@react-three/fiber';\nimport { misc, easing } from 'maath';\n\nconst isObject3DRef = ref => (ref == null ? void 0 : ref.current) instanceof THREE.Object3D;\nconst MotionContext = /* @__PURE__ */React.createContext(null);\nfunction useMotion() {\n  const context = React.useContext(MotionContext);\n  if (!context) throw new Error('useMotion hook must be used in a MotionPathControls component.');\n  return context;\n}\nfunction Debug({\n  points = 50,\n  color = 'black'\n}) {\n  const {\n    path\n  } = useMotion();\n  const [dots, setDots] = React.useState([]);\n  const material = React.useMemo(() => new THREE.MeshBasicMaterial({\n    color: color\n  }), [color]);\n  const geometry = React.useMemo(() => new THREE.SphereGeometry(0.025, 16, 16), []);\n  const last = React.useRef([]);\n  React.useEffect(() => {\n    if (path.curves !== last.current) {\n      setDots(path.getPoints(points));\n      last.current = path.curves;\n    }\n  });\n  return dots.map((item, index) => /*#__PURE__*/React.createElement(\"mesh\", {\n    key: index,\n    material: material,\n    geometry: geometry,\n    position: [item.x, item.y, item.z]\n  }));\n}\nconst MotionPathControls = /* @__PURE__ */React.forwardRef(({\n  children,\n  curves = [],\n  debug = false,\n  debugColor = 'black',\n  object,\n  focus,\n  loop = true,\n  offset = undefined,\n  smooth = false,\n  eps = 0.00001,\n  damping = 0.1,\n  focusDamping = 0.1,\n  maxSpeed = Infinity,\n  ...props\n}, fref) => {\n  const {\n    camera\n  } = useThree();\n  const ref = React.useRef(null);\n  const pos = React.useRef(offset !== null && offset !== void 0 ? offset : 0);\n  const path = React.useMemo(() => new THREE.CurvePath(), []);\n  const state = React.useMemo(() => ({\n    focus,\n    object: (object == null ? void 0 : object.current) instanceof THREE.Object3D ? object : {\n      current: camera\n    },\n    path,\n    current: pos.current,\n    offset: pos.current,\n    point: new THREE.Vector3(),\n    tangent: new THREE.Vector3(),\n    next: new THREE.Vector3()\n  }), [focus, object]);\n  const instanceRef = useInstanceHandle(ref);\n  React.useLayoutEffect(() => {\n    const instance = instanceRef.current;\n    path.curves = [];\n    const _curves = curves.length > 0 ? curves : instance.children.map(instance => instance.object);\n    for (let i = 0; i < _curves.length; i++) path.add(_curves[i]);\n\n    // Smoothen curve\n    if (smooth) {\n      const points = path.getPoints(typeof smooth === 'number' ? smooth : 1);\n      const catmull = new THREE.CatmullRomCurve3(points);\n      path.curves = [catmull];\n    }\n    path.updateArcLengths();\n  });\n  React.useImperativeHandle(fref, () => Object.assign(ref.current, {\n    motion: state\n  }), [state]);\n  React.useLayoutEffect(() => {\n    // When offset changes, normalise pos to avoid overshoot spinning\n    pos.current = misc.repeat(pos.current, 1);\n  }, [offset]);\n  const vec = React.useMemo(() => new THREE.Vector3(), []);\n  useFrame((_state, delta) => {\n    const lastOffset = state.offset;\n    easing.damp(pos, 'current', offset !== undefined ? offset : state.current, damping, delta, maxSpeed, undefined, eps);\n    state.offset = loop ? misc.repeat(pos.current, 1) : misc.clamp(pos.current, 0, 1);\n    if (path.getCurveLengths().length > 0) {\n      path.getPointAt(state.offset, state.point);\n      path.getTangentAt(state.offset, state.tangent).normalize();\n      path.getPointAt(misc.repeat(pos.current - (lastOffset - state.offset), 1), state.next);\n      const target = (object == null ? void 0 : object.current) instanceof THREE.Object3D ? object.current : camera;\n      target.position.copy(state.point);\n      if (focus) {\n        easing.dampLookAt(target, isObject3DRef(focus) ? focus.current.getWorldPosition(vec) : focus, focusDamping, delta, maxSpeed, undefined, eps);\n      }\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: ref\n  }, props), /*#__PURE__*/React.createElement(MotionContext.Provider, {\n    value: state\n  }, children, debug && /*#__PURE__*/React.createElement(Debug, {\n    color: debugColor\n  })));\n});\n\nexport { MotionPathControls, useMotion };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}