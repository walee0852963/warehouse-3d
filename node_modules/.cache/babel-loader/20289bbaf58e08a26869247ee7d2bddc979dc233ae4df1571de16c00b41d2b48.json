{"ast":null,"code":"import _objectWithoutProperties from \"C:/Users/waleed/Desktop/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nconst _excluded = [\"resolution\", \"maxPolyCount\", \"enableUvs\", \"enableColors\", \"children\"],\n  _excluded2 = [\"strength\", \"subtract\", \"color\"],\n  _excluded3 = [\"planeType\", \"strength\", \"subtract\"];\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport * as THREE from 'three';\nimport * as React from 'react';\nimport { MarchingCubes as MarchingCubes$1 } from 'three-stdlib';\nimport { useFrame } from '@react-three/fiber';\nconst globalContext = /* @__PURE__ */React.createContext(null);\nconst MarchingCubes = /* @__PURE__ */React.forwardRef((_ref, ref) => {\n  let {\n      resolution = 28,\n      maxPolyCount = 10000,\n      enableUvs = false,\n      enableColors = false,\n      children\n    } = _ref,\n    props = _objectWithoutProperties(_ref, _excluded);\n  const marchingCubesRef = React.useRef(null);\n  React.useImperativeHandle(ref, () => marchingCubesRef.current, []);\n  const marchingCubes = React.useMemo(() => new MarchingCubes$1(resolution, null, enableUvs, enableColors, maxPolyCount), [resolution, maxPolyCount, enableUvs, enableColors]);\n  const api = React.useMemo(() => ({\n    getParent: () => marchingCubesRef\n  }), []);\n  useFrame(() => {\n    marchingCubes.update();\n    marchingCubes.reset();\n  }, -1); // To make sure the reset runs before the balls or planes are added\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    object: marchingCubes,\n    ref: marchingCubesRef\n  }, props), /*#__PURE__*/React.createElement(globalContext.Provider, {\n    value: api\n  }, children)));\n});\nconst MarchingCube = /* @__PURE__ */React.forwardRef((_ref2, ref) => {\n  let {\n      strength = 0.5,\n      subtract = 12,\n      color\n    } = _ref2,\n    props = _objectWithoutProperties(_ref2, _excluded2);\n  const {\n    getParent\n  } = React.useContext(globalContext);\n  const parentRef = React.useMemo(() => getParent(), [getParent]);\n  const cubeRef = React.useRef(null);\n  React.useImperativeHandle(ref, () => cubeRef.current, []);\n  const vec = new THREE.Vector3();\n  useFrame(state => {\n    if (!parentRef.current || !cubeRef.current) return;\n    cubeRef.current.getWorldPosition(vec);\n    parentRef.current.addBall(0.5 + vec.x * 0.5, 0.5 + vec.y * 0.5, 0.5 + vec.z * 0.5, strength, subtract, color);\n  });\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: cubeRef\n  }, props));\n});\nconst MarchingPlane = /* @__PURE__ */React.forwardRef((_ref3, ref) => {\n  let {\n      planeType: _planeType = 'x',\n      strength = 0.5,\n      subtract = 12\n    } = _ref3,\n    props = _objectWithoutProperties(_ref3, _excluded3);\n  const {\n    getParent\n  } = React.useContext(globalContext);\n  const parentRef = React.useMemo(() => getParent(), [getParent]);\n  const wallRef = React.useRef(null);\n  React.useImperativeHandle(ref, () => wallRef.current, []);\n  const planeType = React.useMemo(() => _planeType === 'x' ? 'addPlaneX' : _planeType === 'y' ? 'addPlaneY' : 'addPlaneZ', [_planeType]);\n  useFrame(() => {\n    if (!parentRef.current || !wallRef.current) return;\n    parentRef.current[planeType](strength, subtract);\n  });\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: wallRef\n  }, props));\n});\nexport { MarchingCube, MarchingCubes, MarchingPlane };","map":{"version":3,"names":["_extends","THREE","React","MarchingCubes","MarchingCubes$1","useFrame","globalContext","createContext","forwardRef","_ref","ref","resolution","maxPolyCount","enableUvs","enableColors","children","props","_objectWithoutProperties","_excluded","marchingCubesRef","useRef","useImperativeHandle","current","marchingCubes","useMemo","api","getParent","update","reset","createElement","Fragment","object","Provider","value","MarchingCube","_ref2","strength","subtract","color","_excluded2","useContext","parentRef","cubeRef","vec","Vector3","state","getWorldPosition","addBall","x","y","z","MarchingPlane","_ref3","planeType","_planeType","_excluded3","wallRef"],"sources":["C:/Users/waleed/Desktop/node_modules/@react-three/drei/core/MarchingCubes.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as THREE from 'three';\nimport * as React from 'react';\nimport { MarchingCubes as MarchingCubes$1 } from 'three-stdlib';\nimport { useFrame } from '@react-three/fiber';\n\nconst globalContext = /* @__PURE__ */React.createContext(null);\nconst MarchingCubes = /* @__PURE__ */React.forwardRef(({\n  resolution = 28,\n  maxPolyCount = 10000,\n  enableUvs = false,\n  enableColors = false,\n  children,\n  ...props\n}, ref) => {\n  const marchingCubesRef = React.useRef(null);\n  React.useImperativeHandle(ref, () => marchingCubesRef.current, []);\n  const marchingCubes = React.useMemo(() => new MarchingCubes$1(resolution, null, enableUvs, enableColors, maxPolyCount), [resolution, maxPolyCount, enableUvs, enableColors]);\n  const api = React.useMemo(() => ({\n    getParent: () => marchingCubesRef\n  }), []);\n  useFrame(() => {\n    marchingCubes.update();\n    marchingCubes.reset();\n  }, -1); // To make sure the reset runs before the balls or planes are added\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    object: marchingCubes,\n    ref: marchingCubesRef\n  }, props), /*#__PURE__*/React.createElement(globalContext.Provider, {\n    value: api\n  }, children)));\n});\nconst MarchingCube = /* @__PURE__ */React.forwardRef(({\n  strength = 0.5,\n  subtract = 12,\n  color,\n  ...props\n}, ref) => {\n  const {\n    getParent\n  } = React.useContext(globalContext);\n  const parentRef = React.useMemo(() => getParent(), [getParent]);\n  const cubeRef = React.useRef(null);\n  React.useImperativeHandle(ref, () => cubeRef.current, []);\n  const vec = new THREE.Vector3();\n  useFrame(state => {\n    if (!parentRef.current || !cubeRef.current) return;\n    cubeRef.current.getWorldPosition(vec);\n    parentRef.current.addBall(0.5 + vec.x * 0.5, 0.5 + vec.y * 0.5, 0.5 + vec.z * 0.5, strength, subtract, color);\n  });\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: cubeRef\n  }, props));\n});\nconst MarchingPlane = /* @__PURE__ */React.forwardRef(({\n  planeType: _planeType = 'x',\n  strength = 0.5,\n  subtract = 12,\n  ...props\n}, ref) => {\n  const {\n    getParent\n  } = React.useContext(globalContext);\n  const parentRef = React.useMemo(() => getParent(), [getParent]);\n  const wallRef = React.useRef(null);\n  React.useImperativeHandle(ref, () => wallRef.current, []);\n  const planeType = React.useMemo(() => _planeType === 'x' ? 'addPlaneX' : _planeType === 'y' ? 'addPlaneY' : 'addPlaneZ', [_planeType]);\n  useFrame(() => {\n    if (!parentRef.current || !wallRef.current) return;\n    parentRef.current[planeType](strength, subtract);\n  });\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: wallRef\n  }, props));\n});\n\nexport { MarchingCube, MarchingCubes, MarchingPlane };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}