{"ast":null,"code":"import _objectWithoutProperties from \"C:/Users/waleed/Desktop/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nconst _excluded = [\"constraints\"];\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { forwardRef, useEffect } from 'react';\nimport { suspend, clear } from 'suspend-react';\nimport { VideoTexture } from '../core/VideoTexture.js';\n\n/**\n * Create a video texture from [`getUserMedia`](https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia)\n */\nconst WebcamVideoTexture = /* @__PURE__ */forwardRef((_ref, fref) => {\n  let {\n      constraints = {\n        audio: false,\n        video: {\n          facingMode: 'user'\n        }\n      }\n    } = _ref,\n    props = _objectWithoutProperties(_ref, _excluded);\n  const mediaStream = suspend(() => navigator.mediaDevices.getUserMedia(constraints), []);\n  useEffect(() => {\n    return () => {\n      mediaStream == null || mediaStream.getTracks().forEach(track => track.stop());\n      clear([]);\n    };\n  }, [mediaStream]);\n  return /*#__PURE__*/React.createElement(VideoTexture, _extends({\n    ref: fref\n  }, props, {\n    src: mediaStream\n  }));\n});\nexport { WebcamVideoTexture };","map":{"version":3,"names":["_extends","React","forwardRef","useEffect","suspend","clear","VideoTexture","WebcamVideoTexture","_ref","fref","constraints","audio","video","facingMode","props","_objectWithoutProperties","_excluded","mediaStream","navigator","mediaDevices","getUserMedia","getTracks","forEach","track","stop","createElement","ref","src"],"sources":["C:/Users/waleed/Desktop/node_modules/@react-three/drei/web/WebcamVideoTexture.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { forwardRef, useEffect } from 'react';\nimport { suspend, clear } from 'suspend-react';\nimport { VideoTexture } from '../core/VideoTexture.js';\n\n/**\n * Create a video texture from [`getUserMedia`](https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia)\n */\nconst WebcamVideoTexture = /* @__PURE__ */forwardRef(({\n  constraints = {\n    audio: false,\n    video: {\n      facingMode: 'user'\n    }\n  },\n  ...props\n}, fref) => {\n  const mediaStream = suspend(() => navigator.mediaDevices.getUserMedia(constraints), []);\n  useEffect(() => {\n    return () => {\n      mediaStream == null || mediaStream.getTracks().forEach(track => track.stop());\n      clear([]);\n    };\n  }, [mediaStream]);\n  return /*#__PURE__*/React.createElement(VideoTexture, _extends({\n    ref: fref\n  }, props, {\n    src: mediaStream\n  }));\n});\n\nexport { WebcamVideoTexture };\n"],"mappings":";;AAAA,OAAOA,QAAQ,MAAM,oCAAoC;AACzD,OAAO,KAAKC,KAAK,MAAM,OAAO;AAC9B,SAASC,UAAU,EAAEC,SAAS,QAAQ,OAAO;AAC7C,SAASC,OAAO,EAAEC,KAAK,QAAQ,eAAe;AAC9C,SAASC,YAAY,QAAQ,yBAAyB;;AAEtD;AACA;AACA;AACA,MAAMC,kBAAkB,GAAG,eAAeL,UAAU,CAAC,CAAAM,IAAA,EAQlDC,IAAI,KAAK;EAAA,IAR0C;MACpDC,WAAW,GAAG;QACZC,KAAK,EAAE,KAAK;QACZC,KAAK,EAAE;UACLC,UAAU,EAAE;QACd;MACF;IAEF,CAAC,GAAAL,IAAA;IADIM,KAAK,GAAAC,wBAAA,CAAAP,IAAA,EAAAQ,SAAA;EAER,MAAMC,WAAW,GAAGb,OAAO,CAAC,MAAMc,SAAS,CAACC,YAAY,CAACC,YAAY,CAACV,WAAW,CAAC,EAAE,EAAE,CAAC;EACvFP,SAAS,CAAC,MAAM;IACd,OAAO,MAAM;MACXc,WAAW,IAAI,IAAI,IAAIA,WAAW,CAACI,SAAS,CAAC,CAAC,CAACC,OAAO,CAACC,KAAK,IAAIA,KAAK,CAACC,IAAI,CAAC,CAAC,CAAC;MAC7EnB,KAAK,CAAC,EAAE,CAAC;IACX,CAAC;EACH,CAAC,EAAE,CAACY,WAAW,CAAC,CAAC;EACjB,OAAO,aAAahB,KAAK,CAACwB,aAAa,CAACnB,YAAY,EAAEN,QAAQ,CAAC;IAC7D0B,GAAG,EAAEjB;EACP,CAAC,EAAEK,KAAK,EAAE;IACRa,GAAG,EAAEV;EACP,CAAC,CAAC,CAAC;AACL,CAAC,CAAC;AAEF,SAASV,kBAAkB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}