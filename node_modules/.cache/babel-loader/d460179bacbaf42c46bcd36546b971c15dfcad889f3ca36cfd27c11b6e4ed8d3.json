{"ast":null,"code":"import _objectWithoutProperties from \"C:/Users/waleed/Desktop/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nconst _excluded = [\"children\", \"compute\", \"renderPriority\", \"eventPriority\", \"frames\", \"stencilBuffer\", \"depthBuffer\", \"generateMipmaps\", \"resolution\", \"near\", \"far\", \"flip\", \"position\", \"rotation\", \"scale\", \"quaternion\", \"matrix\", \"matrixAutoUpdate\"];\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport * as THREE from 'three';\nimport * as React from 'react';\nimport { useThree, createPortal, useFrame } from '@react-three/fiber';\nconst RenderCubeTexture = /* @__PURE__ */React.forwardRef((_ref, forwardRef) => {\n  let {\n      children,\n      compute,\n      renderPriority = -1,\n      eventPriority = 0,\n      frames = Infinity,\n      stencilBuffer = false,\n      depthBuffer = true,\n      generateMipmaps = false,\n      resolution = 896,\n      near = 0.1,\n      far = 1000,\n      flip = false,\n      position,\n      rotation,\n      scale,\n      quaternion,\n      matrix,\n      matrixAutoUpdate\n    } = _ref,\n    props = _objectWithoutProperties(_ref, _excluded);\n  const {\n    size,\n    viewport\n  } = useThree();\n  const camera = React.useRef(null);\n  const fbo = React.useMemo(() => {\n    const fbo = new THREE.WebGLCubeRenderTarget(Math.max((resolution || size.width) * viewport.dpr, (resolution || size.height) * viewport.dpr), {\n      stencilBuffer,\n      depthBuffer,\n      generateMipmaps\n    });\n    fbo.texture.isRenderTargetTexture = !flip;\n    fbo.texture.flipY = true;\n    fbo.texture.type = THREE.HalfFloatType;\n    return fbo;\n  }, [resolution, flip]);\n  React.useEffect(() => {\n    return () => fbo.dispose();\n  }, [fbo]);\n  const [vScene] = React.useState(() => new THREE.Scene());\n  React.useImperativeHandle(forwardRef, () => ({\n    scene: vScene,\n    fbo,\n    camera: camera.current\n  }), [fbo]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, createPortal(/*#__PURE__*/React.createElement(Container, {\n    renderPriority: renderPriority,\n    frames: frames,\n    camera: camera\n  }, children, /*#__PURE__*/React.createElement(\"group\", {\n    onPointerOver: () => null\n  })), vScene, {\n    events: {\n      compute,\n      priority: eventPriority\n    }\n  }), /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    object: fbo.texture\n  }, props)), /*#__PURE__*/React.createElement(\"cubeCamera\", {\n    ref: camera,\n    args: [near, far, fbo],\n    position: position,\n    rotation: rotation,\n    scale: scale,\n    quaternion: quaternion,\n    matrix: matrix,\n    matrixAutoUpdate: matrixAutoUpdate\n  }));\n});\n\n// The container component has to be separate, it can not be inlined because \"useFrame(state\" when run inside createPortal will return\n// the portals own state which includes user-land overrides (custom cameras etc), but if it is executed in <RenderTexture>'s render function\n// it would return the default state.\nfunction Container(_ref2) {\n  let {\n    frames,\n    renderPriority,\n    children,\n    camera\n  } = _ref2;\n  let count = 0;\n  useFrame(state => {\n    if (frames === Infinity || count < frames) {\n      camera.current.update(state.gl, state.scene);\n      count++;\n    }\n  }, renderPriority);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, children);\n}\nexport { RenderCubeTexture };","map":{"version":3,"names":["_extends","THREE","React","useThree","createPortal","useFrame","RenderCubeTexture","forwardRef","_ref","children","compute","renderPriority","eventPriority","frames","Infinity","stencilBuffer","depthBuffer","generateMipmaps","resolution","near","far","flip","position","rotation","scale","quaternion","matrix","matrixAutoUpdate","props","_objectWithoutProperties","_excluded","size","viewport","camera","useRef","fbo","useMemo","WebGLCubeRenderTarget","Math","max","width","dpr","height","texture","isRenderTargetTexture","flipY","type","HalfFloatType","useEffect","dispose","vScene","useState","Scene","useImperativeHandle","scene","current","createElement","Fragment","Container","onPointerOver","events","priority","object","ref","args","_ref2","count","state","update","gl"],"sources":["C:/Users/waleed/Desktop/node_modules/@react-three/drei/core/RenderCubeTexture.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as THREE from 'three';\nimport * as React from 'react';\nimport { useThree, createPortal, useFrame } from '@react-three/fiber';\n\nconst RenderCubeTexture = /* @__PURE__ */React.forwardRef(({\n  children,\n  compute,\n  renderPriority = -1,\n  eventPriority = 0,\n  frames = Infinity,\n  stencilBuffer = false,\n  depthBuffer = true,\n  generateMipmaps = false,\n  resolution = 896,\n  near = 0.1,\n  far = 1000,\n  flip = false,\n  position,\n  rotation,\n  scale,\n  quaternion,\n  matrix,\n  matrixAutoUpdate,\n  ...props\n}, forwardRef) => {\n  const {\n    size,\n    viewport\n  } = useThree();\n  const camera = React.useRef(null);\n  const fbo = React.useMemo(() => {\n    const fbo = new THREE.WebGLCubeRenderTarget(Math.max((resolution || size.width) * viewport.dpr, (resolution || size.height) * viewport.dpr), {\n      stencilBuffer,\n      depthBuffer,\n      generateMipmaps\n    });\n    fbo.texture.isRenderTargetTexture = !flip;\n    fbo.texture.flipY = true;\n    fbo.texture.type = THREE.HalfFloatType;\n    return fbo;\n  }, [resolution, flip]);\n  React.useEffect(() => {\n    return () => fbo.dispose();\n  }, [fbo]);\n  const [vScene] = React.useState(() => new THREE.Scene());\n  React.useImperativeHandle(forwardRef, () => ({\n    scene: vScene,\n    fbo,\n    camera: camera.current\n  }), [fbo]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, createPortal(/*#__PURE__*/React.createElement(Container, {\n    renderPriority: renderPriority,\n    frames: frames,\n    camera: camera\n  }, children, /*#__PURE__*/React.createElement(\"group\", {\n    onPointerOver: () => null\n  })), vScene, {\n    events: {\n      compute,\n      priority: eventPriority\n    }\n  }), /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    object: fbo.texture\n  }, props)), /*#__PURE__*/React.createElement(\"cubeCamera\", {\n    ref: camera,\n    args: [near, far, fbo],\n    position: position,\n    rotation: rotation,\n    scale: scale,\n    quaternion: quaternion,\n    matrix: matrix,\n    matrixAutoUpdate: matrixAutoUpdate\n  }));\n});\n\n// The container component has to be separate, it can not be inlined because \"useFrame(state\" when run inside createPortal will return\n// the portals own state which includes user-land overrides (custom cameras etc), but if it is executed in <RenderTexture>'s render function\n// it would return the default state.\nfunction Container({\n  frames,\n  renderPriority,\n  children,\n  camera\n}) {\n  let count = 0;\n  useFrame(state => {\n    if (frames === Infinity || count < frames) {\n      camera.current.update(state.gl, state.scene);\n      count++;\n    }\n  }, renderPriority);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, children);\n}\n\nexport { RenderCubeTexture };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}